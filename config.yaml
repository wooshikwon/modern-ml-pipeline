# config.yaml: 모든 모델과 환경에서 공유하는 공통 설정
# ${ENV_VAR:default_value} 구문을 통해 환경 변수를 주입할 수 있습니다.

environment:
  app_env: ${APP_ENV:local} # 애플리케이션 실행 환경 (e.g., local, dev, prod)
  gcp_credential_path: ${GCP_CREDENTIAL_PATH:./local/gcp_credentials.json}
  gcp_project_id: ${GCP_PROJECT_ID:your-gcp-project-id}

# 데이터 로더 설정
loader:
  # 'user_features'는 이 로더 설정의 고유 이름입니다.
  user_features:
    type: "bigquery" # dev/prod 환경에서 사용할 로더 타입
    sql_file_path: src/sql/user_features.sql
    local_file_path: "local/data/sample_user_features.csv" # local 환경에서 우선적으로 사용될 파일
    output:
      type: bigquery
      project_id: ${GCP_PROJECT_ID:your-gcp-project-id}
      dataset_id: "user_data"
      table_id: "user_features_for_uplift"
      unique_col: "member_id"

# 피처 증강기 설정
augmenter:
  batch: # 배치 추론 시 사용 (BigQuery)
    feature_store_sql_path: "your-gcp-project-id.feature_store.user_summary"
  realtime: # API 서빙 시 사용 (Redis)
    type: redis
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}

# 데이터 전처리기 설정
preprocessor:
  params:
    criterion_col: "outcome" # 순위 인코딩 시 순위 ��산의 기준이 될 컬럼
    exclude_cols: # 전처리에서 제외할 컬럼
      - "member_id"
  output: # 학습된 전처리기(StandardScaler 등)를 저장할 위치
    type: gcs # 또는 local
    bucket_name: ${GCS_BUCKET_NAME:your-ml-artifacts-bucket}

# MLflow 설정
mlflow:
  tracking_uri: ${MLFLOW_TRACKING_URI:http://127.0.0.1:5000}
  experiment_name: "Uplift-Modeling-Experiment"

# API 서버 설정
serving:
  model_stage: ${MODEL_STAGE:Production} # API 서빙 시 사용할 모델의 스테이지 (e.g., Production, Staging)
