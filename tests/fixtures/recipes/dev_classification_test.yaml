# DEV 환경 테스트용 분류 레시피
# Blueprint v17.0: DEV 환경의 완전한 기능 구현 ("모든 기능이 완전히 작동하는 안전한 실험실")

name: "dev_classification_test"

model:
  class_path: "sklearn.ensemble.RandomForestClassifier"
  
  hyperparameters:
    n_estimators: 100
    max_depth: 15
    random_state: 42
    n_jobs: 4
  
  loader:
    name: "e2e_sessions_spine"
    source_uri: "recipes/sql/loaders/e2e_sessions_spine.sql"
    adapter: sql
    entity_schema:
      entity_columns: ["user_id"]
      timestamp_column: "event_timestamp"

  augmenter:
    type: "feature_store"
    features:
      # 사용자 기본 정보 (DEV 환경에서 Feature Store 방식 시뮬레이션)
      - feature_namespace: "user_demographics"
        features: ["age", "income", "education_level", "region"]
      # 사용자 행동 패턴
      - feature_namespace: "user_behavior"
        features: ["credit_score", "num_products"]

  preprocessor:
    name: "simple_scaler"
    params:
      criterion_col: null
      exclude_cols: ["user_id", "event_timestamp"]

  data_interface:
    task_type: "classification"
    target_column: "approved"

  hyperparameter_tuning:
    enabled: true
    n_trials: 20
    metric: "roc_auc"
    direction: "maximize"

evaluation:
  metrics:
    - "accuracy"
    - "precision_weighted"
    - "recall_weighted"
    - "f1_weighted"
    - "roc_auc"
  
  validation:
    method: "train_test_split"
    test_size: 0.2
    stratify: true
    random_state: 42 