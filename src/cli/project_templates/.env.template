# =============================================================================
# .env - Modern ML Pipeline í™˜ê²½ë³€ìˆ˜ ì„¤ì •
# =============================================================================
# 
# ğŸ¯ ì´ íŒŒì¼ì€ modern-ml-pipeline init ëª…ë ¹ì–´ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
# í•„ìš”í•œ í™˜ê²½ë³€ìˆ˜ì˜ ê°’ì„ ì„¤ì •í•˜ê³  ì‚¬ìš©í•˜ì„¸ìš”.
#
# âš ï¸  ì¤‘ìš”: ì´ íŒŒì¼ì€ .gitignoreì— í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤ (ì•ˆì „í•¨)
# 
# ğŸ“‹ í˜„ì¬ í™˜ê²½: {{ environment }}
# =============================================================================

# ğŸ  ì‹¤í–‰ í™˜ê²½
APP_ENV={{ environment }}

{% if environment == 'local' %}
# =============================================================================
# ğŸ“Š MLflow ì„¤ì • (ë¡œì»¬ ëª¨ë“œ - ê¸°ë³¸ ì„¤ì •)
# =============================================================================

# ë¡œì»¬ íŒŒì¼ ëª¨ë“œ ì‚¬ìš© (./mlruns ë””ë ‰í† ë¦¬)
# MLFLOW_TRACKING_URI=./mlruns

# ì‹¤í—˜ëª… (ì„ íƒì‚¬í•­)
# MLFLOW_EXPERIMENT_NAME=My-Local-Experiments

# =============================================================================
# ğŸ’¡ ë¡œì»¬ ëª¨ë“œ ì‚¬ìš©ë²•:
# =============================================================================
# 
# 1. ë°ì´í„° ì¤€ë¹„: data/ ë””ë ‰í† ë¦¬ì— CSV ë˜ëŠ” Parquet íŒŒì¼ ë°°ì¹˜
# 2. í•™ìŠµ ì‹¤í–‰: modern-ml-pipeline train --recipe-file recipes/classification.yaml  
# 3. ê²°ê³¼ í™•ì¸: MLflow UI ìë™ ì‹¤í–‰ë¨ (ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì† URL í™•ì¸)
#
# ì™¸ë¶€ ì„œë²„ ì—°ê²°ì´ í•„ìš”í•œ ê²½ìš° ì•„ë˜ ì„¹ì…˜ì˜ ì£¼ì„ì„ í•´ì œí•˜ì„¸ìš”.
#
# =============================================================================

{% elif environment == 'dev' %}
# =============================================================================
# ğŸ“Š MLflow ì„¤ì • (ê°œë°œ í™˜ê²½)
# =============================================================================

# mmp-local-dev ì—°ë™ (ê¸°ë³¸ê°’)
MLFLOW_TRACKING_URI=http://localhost:5002

# ì‹¤í—˜ëª…
MLFLOW_EXPERIMENT_NAME=Dev-Team-Experiments

# =============================================================================
# ğŸ˜ PostgreSQL ì—°ê²° (mmp-local-dev)
# =============================================================================

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=mluser
POSTGRES_PASSWORD=secure_password_123
POSTGRES_DB=mlpipeline

# =============================================================================
# âš¡ Redis ì—°ê²° (mmp-local-dev)
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379

# =============================================================================
# ğŸ½ï¸ Feast Feature Store ì„¤ì •
# =============================================================================

FEAST_PROJECT=modern_ml_pipeline
FEATURE_STORE_REDIS_HOST=localhost
FEATURE_STORE_REDIS_PORT=6380
FEAST_REGISTRY_PATH=../mmp-local-dev/feast/feature_repo/registry.db

{% elif environment == 'prod' %}
# =============================================================================
# ğŸš€ í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •
# =============================================================================

# MLflow í”„ë¡œë•ì…˜ ì„œë²„
MLFLOW_TRACKING_URI=https://your-mlflow-server.company.com

# ì‹¤í—˜ëª… (í”„ë¡œë•ì…˜ ëª¨ë¸ ê´€ë¦¬)
MLFLOW_EXPERIMENT_NAME=Production-Models

# =============================================================================
# ğŸ¢ í´ë¼ìš°ë“œ ì¸í”„ë¼ ì—°ê²° (ì•„ë˜ ì¤‘ í•˜ë‚˜ ì„ íƒ)
# =============================================================================

# Google Cloud Platform (BigQuery + GCS)
GCP_PROJECT_ID=your-ml-project
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json
BIGQUERY_DATASET=ml_pipeline_production
GCS_BUCKET=your-ml-artifacts-bucket

# Amazon Web Services (ì„ íƒì‚¬í•­ - GCP ëŒ€ì‹ )
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# S3_BUCKET=your-ml-data-bucket

# Microsoft Azure (ì„ íƒì‚¬í•­ - GCP ëŒ€ì‹ )
# AZURE_STORAGE_ACCOUNT=your-storage-account
# AZURE_STORAGE_KEY=your-storage-key

# =============================================================================
# ğŸ—„ï¸ í”„ë¡œë•ì…˜ ë°ì´í„°ë² ì´ìŠ¤
# =============================================================================

# PostgreSQL (Cloud SQL, RDS, Azure Database ë“±)
POSTGRES_HOST=your-db-server.com
POSTGRES_PORT=5432
POSTGRES_USER=ml-service-account
POSTGRES_PASSWORD=your-secure-db-password
POSTGRES_DB=ml_production

# =============================================================================
# âš¡ Redis í´ëŸ¬ìŠ¤í„° (ê³ ê°€ìš©ì„±)
# =============================================================================

REDIS_HOST=your-redis-cluster.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password

# =============================================================================
# ğŸ½ï¸ Feast Feature Store (í”„ë¡œë•ì…˜)
# =============================================================================

FEAST_PROJECT=modern_ml_pipeline_prod
FEAST_REGISTRY_TYPE=sql
FEAST_REGISTRY_PATH=postgresql://ml-service-account:your-secure-db-password@your-db-server.com:5432/ml_production
FEATURE_STORE_REDIS_HOST=your-redis-cluster.com
FEATURE_STORE_REDIS_PORT=6379

{% endif %}

# =============================================================================
# ğŸ”§ ê³ ê¸‰ ì„¤ì •
# =============================================================================

# ë¡œê·¸ ë ˆë²¨
LOG_LEVEL=INFO

# ë³‘ë ¬ ì²˜ë¦¬ ì„¤ì • (CPU ì½”ì–´ ìˆ˜ì— ë§ê²Œ ì¡°ì •)
{% if environment == 'local' %}
N_JOBS=1
{% elif environment == 'dev' %}
N_JOBS=2
{% else %}
N_JOBS=4
{% endif %}

{% if environment == 'prod' %}
# =============================================================================
# ğŸ”’ í”„ë¡œë•ì…˜ ë³´ì•ˆ ì„¤ì •
# =============================================================================

# API ë³´ì•ˆ (í•„ìˆ˜)
# API_SECRET_KEY=your-32-character-secret-key
# JWT_SECRET_KEY=your-jwt-secret-for-authentication

# ëª¨ë‹ˆí„°ë§ (ê¶Œì¥)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# DATADOG_API_KEY=your-datadog-api-key

# ì•Œë¦¼ ì„¤ì •
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url
# PAGERDUTY_API_KEY=your-pagerduty-integration-key

{% endif %}

# =============================================================================
# ğŸ’¡ ë‹¤ìŒ ë‹¨ê³„:
# =============================================================================
{% if environment == 'local' %}
#
# 1. ë°ì´í„° ì¤€ë¹„: data/ ë””ë ‰í† ë¦¬ì— í•™ìŠµìš© ë°ì´í„° íŒŒì¼ ì¶”ê°€
# 2. í•™ìŠµ ì‹œì‘: modern-ml-pipeline train --recipe-file recipes/{{ recipe_type }}.yaml
# 3. ê²°ê³¼ í™•ì¸: MLflow UIê°€ ìë™ìœ¼ë¡œ ì—´ë¦¼
#
{% elif environment == 'dev' %}
#
# 1. mmp-local-dev ì‹œì‘: cd ../mmp-local-dev && docker-compose up -d
# 2. ì—°ê²° í™•ì¸: modern-ml-pipeline self-check
# 3. í•™ìŠµ ì‹œì‘: modern-ml-pipeline train --recipe-file recipes/{{ recipe_type }}.yaml
#
{% elif environment == 'prod' %}
#
# 1. í´ë¼ìš°ë“œ ì¸ì¦ ì„¤ì • ì™„ë£Œ (GCP/AWS/Azure ì„œë¹„ìŠ¤ ê³„ì •)
# 2. ì—°ê²° í…ŒìŠ¤íŠ¸: modern-ml-pipeline self-check --actionable
# 3. í”„ë¡œë•ì…˜ ëª¨ë¸ í•™ìŠµ: modern-ml-pipeline train --recipe-file recipes/{{ recipe_type }}.yaml
#
{% endif %}
# =============================================================================