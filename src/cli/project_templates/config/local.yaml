# =============================================================================
# config/local.yaml - 로컬 개발 환경 설정 (base.yaml override)
# =============================================================================
# 
# 🎯 LOCAL 환경 철학: "빠른 개발과 즉시 실행 가능성"
# - base.yaml의 기본 설정을 그대로 사용하되, 필요한 부분만 override
# - 외부 의존성 최소화 (PostgreSQL, Redis 등 선택적)
# - 파일 시스템 기반 빠른 프로토타이핑
# - 새로운 개발자도 즉시 실행 가능
# =============================================================================

# 환경 식별자
environment:
  app_env: "local"  # base.yaml의 ${APP_ENV:local} override

# 데이터 어댑터 - 파일 시스템 우선
data_adapters:
  default_loader: "storage"     # base.yaml override: storage 우선
  
  adapters:
    # Storage 어댑터 - 로컬 파일 시스템
    storage:
      class_name: StorageAdapter
      config:
        storage_options: {}     # 로컬 파일 시스템 기본 사용
        
    # SQL 어댑터 - 선택적 사용 (SQLite)
    sql:
      class_name: SqlAdapter  
      config:
        connection_uri: "sqlite:///./local/data/local.db"  # 경량 SQLite

# Feature Store - 로컬 개발용 간소화
feature_store:
  provider: "feast"
  feast_config:
    project: "ml_pipeline_local"
    provider: "local"
    registry: "data/feature_store/local_registry.sqlite"
    
    # Offline Store - 로컬 파일
    offline_store:
      type: "file"
      path: "./data/feature_store/offline"
    
    # Online Store - 로컬 SQLite (Redis 대신)
    online_store:
      type: "sqlite" 
      path: "./data/feature_store/online.db"

# MLflow - 로컬 파일 시스템
mlflow:
  tracking_uri: "file:./mlruns"    # base.yaml override: 명시적 로컬 파일
  experiment_name: "Local-Development"

# 하이퍼파라미터 튜닝 - 개발용 최소화
hyperparameter_tuning:
  enabled: false                   # 로컬에서는 기본 비활성화
  timeout: 120                     # 2분 제한
  parallelization:
    n_jobs: 1                     # 단일 프로세스

# API 서빙 - 로컬 개발
serving:
  model_stage: "None"             # base.yaml override: 로컬은 단계 무관
  
# 아티팩트 저장소 - 로컬 파일
artifact_stores:
  # 모든 아티팩트를 로컬 파일 시스템에 저장
  augmented_dataset:
    enabled: true
    base_uri: "file://./local/artifacts/augmented"
    
  preprocessed_dataset:
    enabled: true
    base_uri: "file://./local/artifacts/preprocessed"
    
  prediction_results:
    enabled: true
    base_uri: "file://./local/artifacts/predictions"
    
    # PostgreSQL 저장 비활성화 (파일 우선)
    postgres_storage:
      enabled: false

# 모니터링 - 개발용 최소화
monitoring:
  enable_metrics: false           # 기본 비활성화
  enable_logging: true            # 로깅은 유지
  
  development_tools:
    enable_query_profiling: true   # 로컬 디버깅에 유용
    enable_memory_profiling: false
    save_execution_traces: true
    
  alerts:
    enable_slack_notifications: false
