# {{ environment.upper() }} 환경 {{ recipe_type.title() }} 레시피  
# Generated with Jinja2 Template Engine
name: "{{ recipe_name }}"

model:
  class_path: "sklearn.linear_model.LogisticRegression"
  hyperparameters:
    max_iter: {{ "100" if environment == "local" else "1000" }}
    random_state: 42
    solver: "{{ 'liblinear' if environment == 'local' else 'lbfgs' }}"
    C: {{ "1.0" if environment == "local" else "0.1" }}
  
  loader:
    name: "{{ loader_name }}"
    source_uri: "{{ data_source }}"
    adapter: {{ adapter }}
    entity_schema:
      entity_columns: ["user_id"]
      timestamp_column: "event_timestamp"
  data_interface:
    task_type: "causal_inference"
    treatment_column: "treatment"
    outcome_column: "outcome"
  
  {% if feature_store %}
  augmenter:
    type: "feature_store"
    features:
      - feature_namespace: "demographic_features"
        features: ["age", "gender", "location"]
      - feature_namespace: "pre_treatment_features"
        features: ["baseline_score", "previous_behavior"]
  {% endif %}
  
  {% if hyperparameter_tuning %}
  hyperparameter_tuning:
    enabled: true
    n_trials: {{ n_trials }}
    metric: "ate_accuracy"
    direction: "maximize"
  {% else %}
  hyperparameter_tuning:
    enabled: false
  {% endif %}

evaluation:
  metrics:
    - "ate_estimate"
    - "confidence_interval"
    {% if feature_store %}- "propensity_overlap"{% endif %}
  validation:
    method: "stratified_split"
    test_size: 0.2
    random_state: 42