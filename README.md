# ğŸš€ ëª¨ë˜ ML íŒŒì´í”„ë¼ì¸

[![Python 3.11](https://img.shields.io/badge/python-3.11-blue.svg)](https://www.python.org/downloads/release/python-311/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Version](https://img.shields.io/badge/version-0.2.0-green.svg)](https://github.com/your-username/modern-ml-pipeline)

**ì•„ë¦„ë‹¤ìš´ ì½˜ì†” ì¶œë ¥, MLflow í†µí•©, FastAPI ì„œë¹™ì„ ì œê³µí•˜ëŠ” í”„ë¡œë•ì…˜ ë ˆë”” YAML ê¸°ë°˜ ML íŒŒì´í”„ë¼ì¸ í”„ë ˆì„ì›Œí¬**

```
â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• 
â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     
â•šâ•â•     â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•     
```

## ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

- **ğŸ“ YAML ê¸°ë°˜ ì„¤ì •** - ê°„ë‹¨í•œ YAML íŒŒì¼ë¡œ ML ì›Œí¬í”Œë¡œìš° ì •ì˜
- **ğŸ­ íŒ©í† ë¦¬ íŒ¨í„´ ì•„í‚¤í…ì²˜** - ìë™ ë“±ë¡ì´ ê°€ëŠ¥í•œ í”ŒëŸ¬ê·¸ì¸ ì»´í¬ë„ŒíŠ¸
- **ğŸ¨ ë¦¬ì¹˜ ì½˜ì†” ì¸í„°í˜ì´ìŠ¤** - ì§„í–‰ ìƒí™© ì¶”ì ì´ ê°€ëŠ¥í•œ ê³„ì¸µì  ì¶œë ¥
- **ğŸ“Š MLflow í†µí•©** - ì™„ì „í•œ ì‹¤í—˜ ì¶”ì  ë° ëª¨ë¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬
- **ğŸš€ FastAPI ì„œë¹™** - ìë™ ëª¨ë¸ ë¡œë”©ì´ ê°€ëŠ¥í•œ í”„ë¡œë•ì…˜ ë ˆë”” API ì„œë²„  
- **âš¡ CLI ìš°ì„  ì„¤ê³„** - ëª¨ë“  ì‘ì—…ì„ ìœ„í•œ ëŒ€í™”í˜• ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤
- **ğŸ”§ ì»´í¬ë„ŒíŠ¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬** - ì–´ëŒ‘í„°, í”„ë¡œì„¸ì„œ, ëª¨ë¸ì„ ìœ„í•œ í™•ì¥ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œ
- **ğŸŒ ë©€í‹° í™˜ê²½ ì§€ì›** - local, dev, prod í™˜ê²½ì—ì„œ ì›í™œí•œ ë°°í¬
- **ğŸ¤– ì‚¬ìš©ì ì •ì˜ ëª¨ë¸** - FT Transformer ë° ì‚¬ìš©ì ì •ì˜ ëª¨ë¸ ë‚´ì¥ ì§€ì›
- **ğŸ”„ ì „ì²´ íŒŒì´í”„ë¼ì¸ ìƒëª…ì£¼ê¸°** - ë°ì´í„° ë¡œë”©ë¶€í„° ëª¨ë¸ ì„œë¹™ê¹Œì§€ í•˜ë‚˜ì˜ í”„ë ˆì„ì›Œí¬ë¡œ

## âš¡ ë¹ ë¥¸ ì‹œì‘

### ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/your-username/modern-ml-pipeline.git
cd modern-ml-pipeline

# uvë¡œ ì„¤ì¹˜ (ê¶Œì¥)
uv init --python 3.11
uv add --editable .

# ë˜ëŠ” pipë¡œ ì„¤ì¹˜
pip install -e .
```

### ê¸°ë³¸ ì‚¬ìš©ë²•

```bash
# ìƒˆë¡œìš´ ML í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
mmp init

# í™˜ê²½ ì„¤ì • config YAML ìƒì„±
mmp get-config

# conofig YAML ê¸°ë°˜ í—¬ìŠ¤ ì²´í¬
mmp system-check --config-path configs/my-dev.yaml

# (ë°ì´í„° ì¤€ë¹„ í›„) ëª¨ë¸ í•™ìŠµì„ ìœ„í•œ Recipe YAML ìƒì„±
mmp get-recipe

# ëª¨ë¸ í•™ìŠµ
mmp train --config-path configs/my-dev.yaml --recipe-path recipe/my-recipe.yaml --data-path sql/my-sql.sql --params '{"execution_date":"2025-09-01"}'

# ë°°ì¹˜ ì¶”ë¡  ì‹¤í–‰
mmp batch-inference --config-path configs/my-dev.yaml --run-id <run_id> --data-path data/test.csv

# API ì„œë²„ ì‹œì‘
mmp serve-api --host 0.0.0.0 --port 8000
```

## ğŸ§  í•µì‹¬ ê°œë…

### 1. ë ˆì‹œí”¼ ê¸°ë°˜ ì„¤ì •

YAML ë ˆì‹œí”¼ë¡œ ML ì›Œí¬í”Œë¡œìš°ë¥¼ ì •ì˜í•˜ì„¸ìš”:

```yaml
# recipes/classification_model.yaml
name: "ê³ ê°_ì´íƒˆ_ì˜ˆì¸¡"
task_choice: "classification"

data:
  loader:
    source_uri: "data/customer_data.csv"
  data_interface:
    target_column: "churn"
    feature_columns: ["age", "tenure", "monthly_charges"]

model:
  class_path: "sklearn.ensemble.RandomForestClassifier"
  hyperparameters:
    n_estimators: 100
    max_depth: 10
    random_state: 42

preprocessor:
  steps:
    - type: "scaler"
      columns: ["age", "monthly_charges"]
    - type: "encoder"
      columns: ["category"]
```

### 2. íŒ©í† ë¦¬ íŒ¨í„´ ì•„í‚¤í…ì²˜

ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” ì¤‘ì•™í™”ëœ íŒ©í† ë¦¬ë¥¼ í†µí•´ ìƒì„±ë©ë‹ˆë‹¤:

```python
from src.factory import Factory
from src.settings import load_settings

# ì„¤ì • ë¡œë“œ
settings = load_settings("config/local.yaml", "recipes/my_model.yaml")

# íŒ©í† ë¦¬ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
factory = Factory(settings)

# ì»´í¬ë„ŒíŠ¸ ìë™ ìƒì„±
data_adapter = factory.create_data_adapter()
model = factory.create_model()
preprocessor = factory.create_preprocessor()
evaluator = factory.create_evaluator()
```

### 3. ì»´í¬ë„ŒíŠ¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì‹œìŠ¤í…œ

í”„ë ˆì„ì›Œí¬ëŠ” í”ŒëŸ¬ê·¸ì¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```python
# ì»´í¬ë„ŒíŠ¸ëŠ” ìë™ìœ¼ë¡œ ë“±ë¡ë©ë‹ˆë‹¤
from src.components.adapter import AdapterRegistry
from src.components.evaluator import EvaluatorRegistry

# ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ëª©ë¡
print(AdapterRegistry.list_adapters())
print(EvaluatorRegistry.list_evaluators())

# ì´ë¦„ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ìƒì„±
sql_adapter = AdapterRegistry.create("sql", settings)
classifier_evaluator = EvaluatorRegistry.create("classification", data_interface)
```

## âš¡ CLI ëª…ë ¹ì–´

### í”„ë¡œì íŠ¸ ê´€ë¦¬
```bash
mmp init                    # í”„ë¡œì íŠ¸ êµ¬ì¡° ì´ˆê¸°í™”
mmp get-config             # ëŒ€í™”í˜• ì„¤ì • íŒŒì¼ ìƒì„±
mmp get-recipe            # ëŒ€í™”í˜• ë ˆì‹œí”¼ ìƒì„±  
mmp system-check          # ì‹œìŠ¤í…œ ì—°ê²° í™•ì¸
```

### ML íŒŒì´í”„ë¼ì¸ ì‘ì—…
```bash
mmp train                  # í•™ìŠµ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
mmp batch-inference       # ë°°ì¹˜ ì¶”ë¡  ì‹¤í–‰
mmp serve-api             # FastAPI ì„œë²„ ì‹œì‘
```

### ì»´í¬ë„ŒíŠ¸ íƒìƒ‰
```bash
mmp list adapters         # ì‚¬ìš© ê°€ëŠ¥í•œ ë°ì´í„° ì–´ëŒ‘í„° í‘œì‹œ
mmp list evaluators      # ì‚¬ìš© ê°€ëŠ¥í•œ í‰ê°€ê¸° í‘œì‹œ
mmp list preprocessors   # ì‚¬ìš© ê°€ëŠ¥í•œ ì „ì²˜ë¦¬ê¸° í‘œì‹œ
mmp list models          # ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ íƒ€ì… í‘œì‹œ
```

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê°œìš”

```
â”œâ”€â”€ ğŸ–¥ï¸ CLI ì¸í„°í˜ì´ìŠ¤ (typer)
â”‚   â”œâ”€â”€ í”„ë¡œì íŠ¸ ê´€ë¦¬ ëª…ë ¹ì–´
â”‚   â”œâ”€â”€ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ëª…ë ¹ì–´  
â”‚   â””â”€â”€ ì»´í¬ë„ŒíŠ¸ íƒìƒ‰ ëª…ë ¹ì–´
â”‚
â”œâ”€â”€ ğŸ­ íŒ©í† ë¦¬ ë ˆì´ì–´
â”‚   â”œâ”€â”€ ì»´í¬ë„ŒíŠ¸ ìƒì„± ë° ìºì‹±
â”‚   â”œâ”€â”€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ í†µí•©
â”‚   â””â”€â”€ ì˜ì¡´ì„± í•´ê²°
â”‚
â”œâ”€â”€ âš™ï¸ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜
â”‚   â”œâ”€â”€ ğŸ”Œ ì–´ëŒ‘í„° (SQL, Storage, BigQuery, Feast)
â”‚   â”œâ”€â”€ ğŸ”„ í”„ë¡œì„¸ì„œ (Scalers, Encoders, Imputers)
â”‚   â”œâ”€â”€ ğŸ“Š í‰ê°€ê¸° (Classification, Regression, Timeseries)
â”‚   â”œâ”€â”€ ğŸ¯ í›ˆë ¨ê¸° (Default, Hyperparameter Tuning)
â”‚   â”œâ”€â”€ ğŸ“¡ í˜ì²˜ (Feature Store, Pass-through)
â”‚   â””â”€â”€ ğŸ—‚ï¸ ë°ì´í„° í•¸ë“¤ëŸ¬ (Tabular, Timeseries)
â”‚
â”œâ”€â”€ âš¡ íŒŒì´í”„ë¼ì¸ ë ˆì´ì–´  
â”‚   â”œâ”€â”€ í•™ìŠµ íŒŒì´í”„ë¼ì¸
â”‚   â”œâ”€â”€ ì¶”ë¡  íŒŒì´í”„ë¼ì¸
â”‚   â””â”€â”€ ì„œë¹™ íŒŒì´í”„ë¼ì¸
â”‚
â”œâ”€â”€ âš™ï¸ ì„¤ì • ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ í™˜ê²½ ì„¤ì • (local, dev, prod)
â”‚   â”œâ”€â”€ ëª¨ë¸ ë ˆì‹œí”¼ (YAML ê¸°ë°˜)
â”‚   â””â”€â”€ ëŸ°íƒ€ì„ ì„¤ì •
â”‚
â””â”€â”€ ğŸ¨ ì½˜ì†” í†µí•©
    â”œâ”€â”€ ë¦¬ì¹˜ ì½˜ì†” ë§¤ë‹ˆì €
    â”œâ”€â”€ ì§„í–‰ ìƒí™© ì¶”ì 
    â””â”€â”€ ê³„ì¸µì  ì¶œë ¥
```

## ğŸ”§ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ

### ë°ì´í„° ì–´ëŒ‘í„°
- **SQL ì–´ëŒ‘í„°** - ì§ì ‘ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
- **ìŠ¤í† ë¦¬ì§€ ì–´ëŒ‘í„°** - ë¡œì»¬ íŒŒì¼, S3, GCS
- **BigQuery ì–´ëŒ‘í„°** - Google BigQuery í†µí•©
- **Feast ì–´ëŒ‘í„°** - í”¼ì²˜ ìŠ¤í† ì–´ í†µí•©

### ì „ì²˜ë¦¬ê¸°
- **ìŠ¤ì¼€ì¼ëŸ¬** - StandardScaler, MinMaxScaler, RobustScaler
- **ì¸ì½”ë”** - OneHotEncoder, LabelEncoder, TargetEncoder
- **ì„í“¨í„°** - SimpleImputer, KNNImputer
- **í”¼ì²˜ ìƒì„±ê¸°** - Polynomial, Interaction features

### í‰ê°€ê¸°
- **ë¶„ë¥˜** - Accuracy, Precision, Recall, F1, ROC-AUC
- **íšŒê·€** - MSE, MAE, RÂ², MAPE
- **ì‹œê³„ì—´** - SMAPE, MASE, seasonal metrics

### ì‚¬ìš©ì ì •ì˜ ëª¨ë¸
- **FT Transformer** - í…Œì´ë¸”í˜• ë°ì´í„°ë¥¼ ìœ„í•œ Feature Tokenizer Transformer
- **LSTM ì‹œê³„ì—´** - ì‹œê³„ì—´ì„ ìœ„í•œ ìˆœí™˜ ì‹ ê²½ë§
- **Scikit-learn ëª¨ë¸** - ëª¨ë“  sklearn ì¶”ì •ê¸° ì§€ì›
- **XGBoost, CatBoost, LightGBM** - ê·¸ë˜ë””ì–¸íŠ¸ ë¶€ìŠ¤íŒ… í”„ë ˆì„ì›Œí¬

## ğŸ¨ ë¦¬ì¹˜ ì½˜ì†” ì¶œë ¥

í”„ë ˆì„ì›Œí¬ëŠ” ì•„ë¦„ë‹¤ìš´ ê³„ì¸µì  ì½˜ì†” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤:

```
ğŸš€ í•™ìŠµ íŒŒì´í”„ë¼ì¸
í™˜ê²½: local | ì‘ì—…: classification | ëª¨ë¸: RandomForestClassifier

ğŸ“Š ë°ì´í„° ë¡œë”©
âœ… ë°ì´í„° ë¡œë“œ ì™„ë£Œ (1000 í–‰, 15 ì—´)

âš¡ ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
ğŸ” 1ë‹¨ê³„: scaler on ['age', 'income']
   ğŸ¯ ì „ì²´ ì ìš©: 2ê°œ ì—´
ğŸ“Š ë°ì´í„° ë³€í™˜ ì™„ë£Œ (1000 í–‰, 15 ì—´)

ğŸ­ íŒ©í† ë¦¬ ì´ˆê¸°í™”: customer_churn_model
âœ… ë°ì´í„° ì–´ëŒ‘í„° ìƒì„±: storage
âœ… ëª¨ë¸ ìƒì„±: RandomForestClassifier
âœ… í‰ê°€ê¸° ìƒì„±: classification

ğŸ¤– ëª¨ë¸ í•™ìŠµ
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%

ğŸ“Š ëª¨ë¸ í‰ê°€
â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”“
â”ƒ ë©”íŠ¸ë¦­     â”ƒ ê°’      â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”©
â”‚ Accuracy  â”‚ 0.8542  â”‚
â”‚ Precision â”‚ 0.8123  â”‚
â”‚ Recall    â”‚ 0.8756  â”‚
â”‚ F1-Score  â”‚ 0.8428  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ í•™ìŠµ íŒŒì´í”„ë¼ì¸ ì™„ë£Œ
```

## âš™ï¸ ì„¤ì •

### í™˜ê²½ ì„¤ì • (`config/local.yaml`)

```yaml
environment:
  name: "local"
  
mlflow:
  tracking_uri: "http://localhost:5000"
  experiment_name: "my_experiment"

data_source:
  adapter_type: "storage"
  config:
    base_path: "./data"

feature_store:
  provider: "feast"
  config:
    feature_server_url: "localhost:6566"
```

### ëª¨ë¸ ë ˆì‹œí”¼ (`recipes/classification.yaml`)

```yaml
name: "ë¶„ë¥˜_ëª¨ë¸"
task_choice: "classification"

data:
  loader:
    source_uri: "data/train.csv"
  data_interface:
    target_column: "target"
    entity_columns: ["user_id"]
    feature_columns: ["feature_1", "feature_2"]

model:
  class_path: "sklearn.ensemble.RandomForestClassifier"
  hyperparameters:
    tuning_enabled: true
    n_trials: 50
    optimization_metric: "f1_weighted"
    
preprocessor:
  steps:
    - type: "imputer"
      strategy: "median"
      columns: ["numerical_features"]
    - type: "encoder"  
      columns: ["categorical_features"]
```

## âš¡ ê³ ê¸‰ ì‚¬ìš©ë²•

### ì‚¬ìš©ì ì •ì˜ ëª¨ë¸ í†µí•©

```python
# ì‚¬ìš©ì ì •ì˜ ëª¨ë¸ ë“±ë¡
from src.components.trainer import TrainerRegistry
from sklearn.base import BaseEstimator

class CustomModel(BaseEstimator):
    def __init__(self, param1=1.0):
        self.param1 = param1
    
    def fit(self, X, y):
        # ì‚¬ìš©ì ì •ì˜ í•™ìŠµ ë¡œì§
        return self
    
    def predict(self, X):
        # ì‚¬ìš©ì ì •ì˜ ì˜ˆì¸¡ ë¡œì§
        return predictions

# ë ˆì‹œí”¼ì—ì„œ ì‚¬ìš©
model:
  class_path: "my_models.CustomModel"
  hyperparameters:
    param1: 2.5
```

### í”¼ì²˜ ìŠ¤í† ì–´ í†µí•©

```python
# í”¼ì²˜ ìŠ¤í† ì–´ í˜ì²˜ ì„¤ì •
data:
  fetcher:
    type: "feature_store"
    timestamp_column: "event_timestamp"
    features:
      - "user_features:age"
      - "user_features:income"
      - "transaction_features:amount"
```

### í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹

```python
# Optuna ê¸°ë°˜ íŠœë‹ í™œì„±í™”
model:
  hyperparameters:
    tuning_enabled: true
    n_trials: 100
    timeout: 3600  # 1ì‹œê°„
    optimization_metric: "f1_weighted"
    direction: "maximize"
    
    # ê³ ì • íŒŒë¼ë¯¸í„°
    fixed:
      random_state: 42
    
    # íŠœë‹ ê°€ëŠ¥í•œ íŒŒë¼ë¯¸í„°  
    tunable:
      n_estimators: [50, 100, 200]
      max_depth: [3, 5, 7, 10]
      min_samples_split: [2, 5, 10]
```

## ğŸ“Š MLflow í†µí•©

í”„ë ˆì„ì›Œí¬ëŠ” ì™„ì „í•œ MLflow í†µí•©ì„ ì œê³µí•©ë‹ˆë‹¤:

- **ìë™ ì‹¤í—˜ ì¶”ì ** - ëª¨ë“  ì‹¤í–‰ì´ ìë™ìœ¼ë¡œ ê¸°ë¡ë¨
- **ëª¨ë¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬** - ì „ì²´ ë©”íƒ€ë°ì´í„°ì™€ í•¨ê»˜ ëª¨ë¸ ì €ì¥
- **ì•„í‹°íŒ©íŠ¸ ê´€ë¦¬** - ì½”ë“œ, ë°ì´í„°, ëª¨ë¸ ë²„ì „ ê´€ë¦¬
- **ëª¨ë¸ ì„œë¹™** - MLflow ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ì§ì ‘ ë¡œë”©
- **ì‹¤í—˜ ë¹„êµ** - í’ë¶€í•œ ë©”íŠ¸ë¦­ ë° íŒŒë¼ë¯¸í„° ë¡œê¹…

```python
# MLflow ì•„í‹°íŒ©íŠ¸ ì ‘ê·¼
import mlflow

# í•™ìŠµëœ ëª¨ë¸ ë¡œë“œ
model = mlflow.pyfunc.load_model(f"runs:/{run_id}/model")

# ì‹¤í–‰ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
run = mlflow.get_run(run_id)
print(f"ì •í™•ë„: {run.data.metrics['accuracy']}")
```

## ğŸ¯ API ì„œë¹™

í”„ë¡œë•ì…˜ ë ˆë”” FastAPI ì„œë²„ë¥¼ ì‹œì‘í•˜ì„¸ìš”:

```bash
# ì„œë²„ ì‹œì‘
mmp serve-api --host 0.0.0.0 --port 8000

# ì‚¬ìš© ê°€ëŠ¥í•œ API ì—”ë“œí¬ì¸íŠ¸:
# POST /predict - ë‹¨ì¼ ì˜ˆì¸¡
# POST /batch-predict - ë°°ì¹˜ ì˜ˆì¸¡  
# GET /health - í—¬ìŠ¤ ì²´í¬
# GET /model-info - ëª¨ë¸ ë©”íƒ€ë°ì´í„°
```

### API ì‚¬ìš©ë²•

```python
import httpx

# ë‹¨ì¼ ì˜ˆì¸¡
response = httpx.post("http://localhost:8000/predict", 
    json={"features": {"age": 35, "income": 50000}})

# ë°°ì¹˜ ì˜ˆì¸¡
response = httpx.post("http://localhost:8000/batch-predict",
    json={"instances": [
        {"age": 35, "income": 50000},
        {"age": 42, "income": 75000}
    ]})
```

## ğŸš€ ë°°í¬

### Docker ë°°í¬

```dockerfile
FROM python:3.11-slim

WORKDIR /app
COPY . .

RUN pip install -e .

EXPOSE 8000
CMD ["mmp", "serve-api", "--host", "0.0.0.0", "--port", "8000"]
```

### í™˜ê²½ ë³€ìˆ˜

```bash
# MLflow ì„¤ì •
export MLFLOW_TRACKING_URI=https://your-mlflow-server.com
export MLFLOW_EXPERIMENT_NAME=production

# í”¼ì²˜ ìŠ¤í† ì–´
export FEAST_FEATURE_SERVER_URL=your-feast-server:6566

# ëª¨ë¸ ì„¤ì •  
export MODEL_RUN_ID=your-production-run-id
```

## ğŸ§ª ê°œë°œ

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ê°œë°œ ì˜ì¡´ì„± ì„¤ì¹˜
uv add --group dev

# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
uv run pytest

# ì»¤ë²„ë¦¬ì§€ì™€ í•¨ê»˜ ì‹¤í–‰
uv run pytest --cov=src --cov-report=html

# íŠ¹ì • í…ŒìŠ¤íŠ¸ ì¹´í…Œê³ ë¦¬ ì‹¤í–‰
uv run pytest tests/unit/           # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
uv run pytest tests/integration/   # í†µí•© í…ŒìŠ¤íŠ¸
```

### ì½”ë“œ í’ˆì§ˆ

```bash
# ì½”ë“œ í¬ë§·íŒ…
uv run black src/
uv run isort src/

# ì½”ë“œ ë¦°íŒ…  
uv run ruff check src/
uv run mypy src/

# ë³´ì•ˆ ìŠ¤ìº”
uv run bandit -r src/
uv run safety check
```

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. ì €ì¥ì†Œë¥¼ í¬í¬í•˜ì„¸ìš”
2. ê¸°ëŠ¥ ë¸Œëœì¹˜ë¥¼ ë§Œë“œì„¸ìš” (`git checkout -b feature/amazing-feature`)
3. ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•˜ì„¸ìš” (`git commit -m 'ë†€ë¼ìš´ ê¸°ëŠ¥ ì¶”ê°€'`)
4. ë¸Œëœì¹˜ì— í‘¸ì‹œí•˜ì„¸ìš” (`git push origin feature/amazing-feature`)
5. Pull Requestë¥¼ ì—¬ì„¸ìš”

### ê°œë°œ í™˜ê²½ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/your-username/modern-ml-pipeline.git
cd modern-ml-pipeline

# ê°œë°œ ëª¨ë“œë¡œ ì„¤ì¹˜
uv add --group dev
uv run pre-commit install

# ì»¤ë°‹ ì „ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
uv run pytest
```

## ğŸ“š ë¬¸ì„œ

- **[ì•„í‚¤í…ì²˜ ê°€ì´ë“œ](docs/architecture.md)** - ìƒì„¸í•œ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- **[ì»´í¬ë„ŒíŠ¸ ê°œë°œ](docs/components.md)** - ì‚¬ìš©ì ì •ì˜ ì»´í¬ë„ŒíŠ¸ ìƒì„±  
- **[ë ˆì‹œí”¼ ë ˆí¼ëŸ°ìŠ¤](docs/recipes.md)** - ì™„ì „í•œ ë ˆì‹œí”¼ ì„¤ì •
- **[ë°°í¬ ê°€ì´ë“œ](docs/deployment.md)** - í”„ë¡œë•ì…˜ ë°°í¬ ì „ëµ
- **[API ë ˆí¼ëŸ°ìŠ¤](docs/api.md)** - ì™„ì „í•œ API ë¬¸ì„œ

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

**MLflow ì—°ê²° ì˜¤ë¥˜**
```bash
# MLflow ì„œë²„ ìƒíƒœ í™•ì¸
mmp system-check

# ì„¤ì • í™•ì¸
export MLFLOW_TRACKING_URI=http://localhost:5000
```

**ëˆ„ë½ëœ ì˜ì¡´ì„±**
```bash
# ëª¨ë“  extras ì„¤ì¹˜
uv add modern-ml-pipeline[all]

# ë˜ëŠ” íŠ¹ì • extras
uv add modern-ml-pipeline[ml-extras,cloud-extras]
```

**Python ë²„ì „ ë¬¸ì œ**
```bash
# Python 3.11 í™•ì¸
uv python install 3.11
uv init --python 3.11
```

## âš¡ ì„±ëŠ¥

- **í•™ìŠµ ì†ë„** - ìµœì í™”ëœ ë°ì´í„° ë¡œë”© ë° ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
- **ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±** - ì§€ì—° ë¡œë”© ë° ìºì‹± ì „ëµ
- **í™•ì¥ì„±** - ë‹¨ì¼ ë¨¸ì‹  ë° ë¶„ì‚° ì„¤ì • ëª¨ë‘ ì§€ì›
- **ëª¨ë‹ˆí„°ë§** - ë‚´ì¥ëœ ì„±ëŠ¥ ë©”íŠ¸ë¦­ ë° ë¡œê¹…

## ğŸ”’ ë³´ì•ˆ

- **ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬** - Pydantic ìŠ¤í‚¤ë§ˆë¡œ ëª¨ë“  ì…ë ¥ ê²€ì¦
- **SQL ì¸ì ì…˜ ë°©ì§€** - ë§¤ê°œë³€ìˆ˜í™”ëœ ì¿¼ë¦¬ ë° ORM ì‚¬ìš©
- **ì˜ì¡´ì„± ìŠ¤ìº”** - `bandit` ë° `safety`ë¥¼ ì´ìš©í•œ ì •ê¸°ì ì¸ ë³´ì•ˆ ê°ì‚¬
- **í™˜ê²½ ê²©ë¦¬** - í™˜ê²½ ê°„ ëª…í™•í•œ ë¶„ë¦¬

## ğŸ“„ ë¼ì´ì„¼ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„¼ìŠ¤ í•˜ì— ë¼ì´ì„¼ìŠ¤ë˜ì–´ ìˆìŠµë‹ˆë‹¤ - ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ™ ê°ì‚¬ì˜ ë§

- **MLflow** - ì‹¤í—˜ ì¶”ì  ë° ëª¨ë¸ ê´€ë¦¬
- **FastAPI** - ê³ ì„±ëŠ¥ API í”„ë ˆì„ì›Œí¬
- **Rich** - ì•„ë¦„ë‹¤ìš´ ì½˜ì†” ì¶œë ¥
- **Typer** - ì§ê´€ì ì¸ CLI ê°œë°œ
- **Pydantic** - ê²¬ê³ í•œ ë°ì´í„° ê²€ì¦

---

**ëª¨ë˜ ML íŒŒì´í”„ë¼ì¸ íŒ€ì´ â¤ï¸ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤**

*ML ì›Œí¬í”Œë¡œìš°ì— í˜ëª…ì„ ì¼ìœ¼í‚¬ ì¤€ë¹„ê°€ ë˜ì…¨ë‚˜ìš”? ì§€ê¸ˆ ë°”ë¡œ ëª¨ë˜ ML íŒŒì´í”„ë¼ì¸ì„ ì‹œì‘í•˜ì„¸ìš”!*