# Linear Regression: ë‹¨ìˆœí•˜ë©´ì„œë„ ê°•ë ¥í•œ ì„ í˜• íšŒê·€
# ğŸ“ˆ í•´ì„ ê°€ëŠ¥ì„±ê³¼ ë¹ ë¥¸ í•™ìŠµì˜ ì™„ë²½í•œ ì¡°í™”

name: "linear_regression"

model:
  # Scikit-learn Linear Regression ì§ì ‘ ë™ì  import
  class_path: "sklearn.linear_model.LinearRegression"
  
  # Phase 1: Point-in-Time ì •í•©ì„± ìŠ¤í‚¤ë§ˆ
  loader:
    name: "boston_housing_loader"
    source_uri: "data/boston_housing.csv"
    adapter: storage
    entity_schema:
      entity_columns: ["CRIM", "ZN", "INDUS", "CHAS", "NOX", "RM", "AGE", "DIS", "RAD", "TAX", "PTRATIO", "B", "LSTAT"]
      timestamp_column: "timestamp"
  
  # ê¸°ì¡´: ML ì‘ì—…ë³„ ì„¸ë¶€ ì„¤ì • (Regression ì „ìš©)
  data_interface:
    task_type: "regression"
    target_column: "price_per_sqm"      # í‰ë°©ë¯¸í„°ë‹¹ ê°€ê²© (ì—°ì†í˜•)
    
  # Dictionary í˜•íƒœ í•˜ì´í¼íŒŒë¼ë¯¸í„° (Linear Regression íŠ¹í™”)
  hyperparameters:
    # Linear Regressionì€ í•˜ì´í¼íŒŒë¼ë¯¸í„°ê°€ ê±°ì˜ ì—†ìŒ
    # ì£¼ë¡œ ì •ê·œí™”ëœ ë²„ì „ë“¤ê³¼ ë¹„êµë¥¼ ìœ„í•œ ì„¤ì •
    
    # ê³ ì •ê°’ - ê¸°ë³¸ ì„ í˜• íšŒê·€ ì„¤ì •
    fit_intercept: true      # ì ˆí¸ í•­ í¬í•¨
    copy_X: true            # ì…ë ¥ ë°ì´í„° ë³µì‚¬ (ì•ˆì „ì„±)
    n_jobs: -1              # ë³‘ë ¬ ì²˜ë¦¬
    positive: false         # ê³„ìˆ˜ ì œì•½ ì—†ìŒ

  # í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ì„¤ì • (ê¸°ë³¸ ì„ í˜• íšŒê·€ëŠ” íŠœë‹í•  ê²ƒì´ ê±°ì˜ ì—†ìŒ)
  hyperparameter_tuning:
    enabled: false          # ê¸°ë³¸ ì„ í˜• íšŒê·€ëŠ” íŠœë‹ ë¶ˆí•„ìš”
  
  # Feature Store ê¸°ë°˜ í”¼ì²˜ ì¦ê°•
  augmenter:
    type: "feature_store"
    features:
      # ë¶€ë™ì‚° ê¸°ë³¸ ì •ë³´
      - feature_namespace: "property_details"
        features: ["total_area", "room_count", "bathroom_count", "property_age", "floor_level"]
      
      # ì§€ì—­ íŠ¹ì„±
      - feature_namespace: "location_features"
        features: ["distance_to_subway", "school_rating", "crime_rate", "population_density"]
      
      # ì‹œì¥ ë™í–¥
      - feature_namespace: "market_indicators"
        features: ["avg_price_trend_3m", "supply_demand_ratio", "transaction_volume"]
      
      # í¸ì˜ì‹œì„¤
      - feature_namespace: "amenities"
        features: ["nearby_hospitals", "shopping_centers", "parks_count", "parking_spaces"]

  # ì „ì²˜ë¦¬ ì„¤ì • (Linear Regression íŠ¹í™”)
  preprocessor:
    name: "regression_preprocessor"
    params:
      criterion_col: null
      # Entity í‚¤, timestamp, targetëŠ” ì „ì²˜ë¦¬ì—ì„œ ì œì™¸
      exclude_cols: ["property_id", "region_id", "valuation_date", "price_per_sqm"]
      # ì„ í˜• íšŒê·€ë¥¼ ìœ„í•œ íŠ¹ë³„ ì„¤ì •
      handle_missing: "mean"            # ê²°ì¸¡ì¹˜ë¥¼ í‰ê· ìœ¼ë¡œ ì²˜ë¦¬
      scale_features: true              # í‘œì¤€í™” (ì„ í˜• íšŒê·€ì— ì¤‘ìš”)
      encode_categorical: "onehot"      # ë²”ì£¼í˜• ì›í•« ì¸ì½”ë”©
      remove_outliers: true             # ì´ìƒì¹˜ ì œê±° (íšŒê·€ì— ì¤‘ìš”)
      outlier_method: "iqr"            # IQR ë°©ë²•ìœ¼ë¡œ ì´ìƒì¹˜ íƒì§€

  # í‰ê°€ì ì„¤ì •
  evaluator:
    name: "regression_evaluator"

# í‰ê°€ ì„¤ì • (Regression íŠ¹í™” ë©”íŠ¸ë¦­)
evaluation:
  metrics:
    - "r2_score"                    # ê²°ì •ê³„ìˆ˜ (ì„¤ëª…ë ¥)
    - "mean_squared_error"          # í‰ê·  ì œê³± ì˜¤ì°¨
    - "mean_absolute_error"         # í‰ê·  ì ˆëŒ€ ì˜¤ì°¨
    - "root_mean_squared_error"     # í‰ê·  ì œê³±ê·¼ ì˜¤ì°¨
  
  validation:
    method: "train_test_split"
    test_size: 0.2
    stratify: false         # íšŒê·€ì—ì„œëŠ” stratify ë¶ˆí•„ìš”
    random_state: 42
