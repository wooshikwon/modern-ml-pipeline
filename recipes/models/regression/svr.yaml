# SVR (Support Vector Regression): ê³ ì°¨ì› ë¹„ì„ í˜• íšŒê·€
# ğŸ¯ ì»¤ë„ íŠ¸ë¦­ìœ¼ë¡œ ë³µì¡í•œ ë¹„ì„ í˜• ê´€ê³„ë¥¼ ì™„ë²½í•˜ê²Œ ëª¨ë¸ë§

name: "svr"

model:
  # Scikit-learn SVR ì§ì ‘ ë™ì  import
  class_path: "sklearn.svm.SVR"
  
  # Phase 1: Point-in-Time ì •í•©ì„± ìŠ¤í‚¤ë§ˆ
  loader:
    name: "california_housing_loader"
    source_uri: "data/california_housing.csv"
    adapter: storage
    entity_schema:
      entity_columns: ["MedInc", "HouseAge", "AveRooms", "AveBedrms", "Population", "AveOccup", "Latitude", "Longitude"]
      timestamp_column: "timestamp"
  
  # ê¸°ì¡´: ML ì‘ì—…ë³„ ì„¸ë¶€ ì„¤ì • (Regression ì „ìš©)
  data_interface:
    task_type: "regression"
    target_column: "pollutant_concentration"    # ì˜¤ì—¼ë¬¼ì§ˆ ë†ë„ (ì—°ì†í˜•)
    
  # Dictionary í˜•íƒœ í•˜ì´í¼íŒŒë¼ë¯¸í„° (SVR íŠ¹í™”)
  hyperparameters:
    # ì»¤ë„ ì„¤ì • (SVRì˜ í•µì‹¬)
    kernel: {type: "categorical", choices: ["rbf", "linear", "poly"]}
    
    # ì •ê·œí™” íŒŒë¼ë¯¸í„°
    C: {type: "float", low: 0.1, high: 100.0, log: true}      # ì˜¤ì°¨ í—ˆìš©ë„
    epsilon: {type: "float", low: 0.01, high: 1.0, log: true} # í—ˆìš© ì˜¤ì°¨ ë²”ìœ„
    
    # RBF ì»¤ë„ íŒŒë¼ë¯¸í„°
    gamma: {type: "categorical", choices: ["scale", "auto"]}
    
    # ë‹¤í•­ì‹ ì»¤ë„ íŒŒë¼ë¯¸í„°
    degree: {type: "int", low: 2, high: 5}
    
    # ìˆ˜ë ´ í—ˆìš© ì˜¤ì°¨
    tol: {type: "float", low: 1e-4, high: 1e-2, log: true}

  # í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ì„¤ì •
  hyperparameter_tuning:
    enabled: true
    n_trials: 60                      # SVRì€ í•™ìŠµì´ ì˜¤ë˜ ê±¸ë¦¼
    metric: "neg_mean_squared_error"
    direction: "maximize"
  
  # Feature Store ê¸°ë°˜ í”¼ì²˜ ì¦ê°•
  augmenter:
    type: "feature_store"
    features:
      # ê¸°ìƒ ì¡°ê±´
      - feature_namespace: "weather_conditions"
        features: ["temperature", "humidity", "wind_speed", "wind_direction", "atmospheric_pressure"]
      
      # êµí†µ ë° ì‚°ì—… í™œë™
      - feature_namespace: "emission_sources"
        features: ["traffic_density", "industrial_activity", "construction_index", "shipping_activity"]
      
      # ì§€ë¦¬ì  íŠ¹ì„±
      - feature_namespace: "geographical_features"
        features: ["elevation", "distance_to_sea", "urban_density", "vegetation_index"]
      
      # ì‹œê°„ì  íŒ¨í„´
      - feature_namespace: "temporal_patterns"
        features: ["hour_of_day", "day_of_week", "month", "season", "holiday_indicator"]

  # ì „ì²˜ë¦¬ ì„¤ì • (SVRì€ ìŠ¤ì¼€ì¼ë§ í•„ìˆ˜!)
  preprocessor:
    name: "regression_preprocessor"
    params:
      criterion_col: null
      exclude_cols: ["station_id", "pollutant_type", "measurement_datetime", "pollutant_concentration"]
      handle_missing: "median"
      scale_features: true             # SVRì€ ë°˜ë“œì‹œ ìŠ¤ì¼€ì¼ë§ í•„ìš”
      encode_categorical: "onehot"

  # í‰ê°€ì ì„¤ì •
  evaluator:
    name: "regression_evaluator"

# í‰ê°€ ì„¤ì •
evaluation:
  metrics:
    - "r2_score"
    - "mean_absolute_error"
    - "mean_squared_error"
    - "root_mean_squared_error"
  
  validation:
    method: "train_test_split"
    test_size: 0.2
    random_state: 42
