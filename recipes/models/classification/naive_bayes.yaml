# Naive Bayes Classifier: í™•ë¥ ì˜ ë‹¨ìˆœí•œ ì•„ë¦„ë‹¤ì›€
# ğŸ“Š ë² ì´ì¦ˆ ì •ë¦¬ì˜ í˜ìœ¼ë¡œ ë¶ˆí™•ì‹¤ì„±ì„ ëª…í™•í•˜ê²Œ ë¶„ë¥˜

name: "naive_bayes"

model:
  # Scikit-learn Gaussian Naive Bayes ì§ì ‘ ë™ì  import
  class_path: "sklearn.naive_bayes.GaussianNB"
  
  # Phase 1: Point-in-Time ì •í•©ì„± ìŠ¤í‚¤ë§ˆ
  loader:
    name: "sms_spam_loader"
    source_uri: "data/sms_spam.csv"
    adapter: storage
    entity_schema:
      entity_columns: ["message"]
      timestamp_column: "timestamp"
  
  # ê¸°ì¡´: ML ì‘ì—…ë³„ ì„¸ë¶€ ì„¤ì • (Classification ì „ìš©)
  data_interface:
    task_type: "classification"
    target_column: "sentiment"           # ê°ì • ë¶„ë¥˜ (ê¸ì •/ë¶€ì •/ì¤‘ë¦½)
    class_weight: "balanced"             # ê°ì • í´ë˜ìŠ¤ ê· í˜•
    average: "weighted"
    
  # Dictionary í˜•íƒœ í•˜ì´í¼íŒŒë¼ë¯¸í„° (Naive Bayes íŠ¹í™”)
  hyperparameters:
    # ê°€ìš°ì‹œì•ˆ ë‚˜ì´ë¸Œ ë² ì´ì¦ˆì˜ ìŠ¤ë¬´ë”© íŒŒë¼ë¯¸í„°
    var_smoothing: {type: "float", low: 1e-10, high: 1e-8, log: true}
    
    # ì‚¬ì „ í™•ë¥  ì„¤ì • (Noneì€ ìë™ ì¶”ì •)
    priors: null

  # í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ì„¤ì •
  hyperparameter_tuning:
    enabled: true
    n_trials: 30                      # Naive BayesëŠ” ë§¤ìš° ë‹¨ìˆœí•˜ë¯€ë¡œ ì ì€ trial
    metric: "f1_weighted"
    direction: "maximize"
  
  # Feature Store ê¸°ë°˜ í”¼ì²˜ ì¦ê°•
  augmenter:
    type: "feature_store"
    features:
      # í…ìŠ¤íŠ¸ ê¸°ë°˜ í”¼ì²˜
      - feature_namespace: "text_features"
        features: ["positive_words_count", "negative_words_count", "neutral_words_count", "total_words"]
      
      # ê°ì • ì–´íœ˜ ì‚¬ì „ ê¸°ë°˜
      - feature_namespace: "sentiment_lexicon"
        features: ["polarity_score", "subjectivity_score", "emotion_intensity", "confidence_score"]
      
      # ì–¸ì–´ì  íŠ¹ì„±
      - feature_namespace: "linguistic_features"
        features: ["exclamation_count", "question_count", "capitalization_ratio", "punctuation_density"]
      
      # ê³ ê° íŠ¹ì„±
      - feature_namespace: "customer_context"
        features: ["customer_tier", "purchase_history", "previous_feedback_sentiment", "interaction_frequency"]

  # ì „ì²˜ë¦¬ ì„¤ì •
  preprocessor:
    name: "classification_preprocessor"
    params:
      criterion_col: null
      exclude_cols: ["feedback_id", "customer_id", "feedback_date", "sentiment"]
      handle_missing: "median"
      scale_features: true             # Gaussian NBëŠ” ì •ê·œí™”ëœ ë°ì´í„° ì„ í˜¸
      encode_categorical: "onehot"     # One-hot encoding

  # í‰ê°€ì ì„¤ì •
  evaluator:
    name: "classification_evaluator"

# í‰ê°€ ì„¤ì •
evaluation:
  metrics:
    - "accuracy"
    - "precision_weighted"
    - "recall_weighted"
    - "f1_weighted"
    - "roc_auc"                        # ë‹¤ì¤‘ë¶„ë¥˜ ROC AUC
  
  validation:
    method: "train_test_split"
    test_size: 0.2
    stratify: true
    random_state: 42
